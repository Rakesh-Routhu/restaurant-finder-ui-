<div class="search-container">
  <h1>Eats Near You</h1>

  <!-- Search Form -->
  <form (ngSubmit)="onSubmit()" #searchForm="ngForm">
    <!-- Location Input -->
    <input 
      [(ngModel)]="location" 
      name="location" 
      placeholder="Enter city" 
      required 
      aria-label="Location input"
    />

    <!-- Use My Location Button -->
    <button 
      type="button" 
      (click)="getCurrentLocation()" 
      [disabled]="!isGeolocationAvailable">
      Use My Location
    </button>

    <!-- Radius Input -->
    <input 
      [(ngModel)]="radius" 
      name="radius" 
      type="number" 
      placeholder="Enter radius in meters" 
      required 
      min="1" 
      aria-label="Radius input"
    />

    <!-- Search Button -->
    <button 
      type="submit" 
      *ngIf="!searchCompleted" 
      [disabled]="!searchForm.valid">
      Search
    </button>

    <!-- Clear Button -->
    <button 
      type="button" 
      *ngIf="searchCompleted" 
      (click)="clearSearch()">
      Clear
    </button>
  </form>

  <!-- Restaurant List Component -->
  <div class="restaurant-results" *ngIf="restaurants.length > 0">
    <h2>Nearby Restaurants</h2>
    <div class="restaurant-list">
      <ul>
        <li *ngFor="let restaurant of restaurants">
          <h3 (click)="restaurant.showDetails = !restaurant.showDetails">
            {{ restaurant.name }}
          </h3>
          <div *ngIf="restaurant.showDetails" class="details">
            <p>Address: {{ restaurant.address }}</p>
            <p>Rating: {{ restaurant.rating ? restaurant.rating : 'Not rated' }}</p>
          </div>
        </li>
      </ul>
    </div>
  </div>

  <ng-template #noRestaurants>
    <h3>No restaurants found.</h3>
  </ng-template>
</div>
